<% if (theme.math.enable) { %>
    <% if (page.math || theme.math.all_pages) { %>
  
      <% if (config.mathEngine == 'mathjax') { %>
        <script type="text/javascript" src="<%= config.math.mathjax.src %>"></script>
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
            tex2jax: {
              inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
              processEscapes: true,
              skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            }
          });
        </script>
        <script type="text/x-mathjax-config">
          MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for (i=0; i < all.length; i += 1) {
              all[i].SourceElement().parentNode.className += ' has-jax';
            }
          });
        </script>
      <% } %>
  
      <% if (config.mathEngine == 'katex') { %>
        <link rel="stylesheet" href="<%= config.math.katex.src.css %>" crossorigin="anonymous">
        <script defer src="<%= config.math.katex.src.js %>" crossorigin="anonymous"></script>
        <script
          defer
          src="<%= config.math.katex.src.autorender %>"
          crossorigin="anonymous"
          onload="renderMathInElement(document.body)">
        </script>
      <% } %>
  
    <% } %>
  <% } %>